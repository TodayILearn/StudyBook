# JavaScript ë„¤íŠ¸ì›Œí¬ ìš”ì²­ 1 (JSON, AJAX)

# JSON (JavaScript Object Notation)

## JSON ì†Œê°œ ë° êµ¬ì¡°

- ê²½ëŸ‰ì˜ ë°ì´í„° êµí™˜ í˜•ì‹
- ì‚¬ëŒì´ ì½ê³  ì“°ê¸° ì‰¬ì›€
- ê¸°ê³„ê°€ íŒŒì‹±í•˜ê³  ìƒì„±í•˜ê¸° ì‰¬ì›€
- ê°ì²´ëŠ” ì¤‘ê´„í˜¸ `{}` ì•ˆì— í‚¤-ê°’ ìŒìœ¼ë¡œ êµ¬ì„±
- ë°°ì—´ì€ ëŒ€ê´„í˜¸ `[]` ì•ˆì— ê°’ë“¤ì˜ ìˆœì„œ ìˆëŠ” ëª©ë¡
- ê°’ì€ ë¬¸ìì—´, ìˆ«ì, boolean, null, ê°ì²´, ë°°ì—´

```jsx
{
  "name": "John Doe",
  "age": 30,
  "isStudent": false,
  "hobbies": ["reading", "swimming", "coding"],
  "address": {
    "street": "123 Main St",
    "city": "Seoul"
  }
}
```

## JSON íŒŒì‹±ê³¼ ì§ë ¬í™”

- JSON.parse(): JSON ë¬¸ìì—´ì„ JavaScript ê°ì²´ë¡œ ë³€í™˜
- JSON.stringify(): JavaScript ê°ì²´ë¥¼ JSON ë¬¸ìì—´ë¡œ ë³€í™˜

```jsx
const jsonString = '{"name": "Alice", "age": 25}';
const obj = JSON.parse(jsonString);
console.log(obj.name); // ì¶œë ¥: Alice

const obj = { name: "Bob", age: 30 };
const jsonString = JSON.stringify(obj);
console.log(jsonString); // ì¶œë ¥: {"name":"Bob","age":30}
```

## JSONê³¼ JavaScript ê°ì²´ ë¹„êµ

- JSONì€ JavaScript ê°ì²´ í‘œê¸°ë²•ê³¼ ìœ ì‚¬í•˜ì§€ë§Œ ì°¨ì´ì  ì¡´ì¬
- í‚¤ëŠ” ë°˜ë“œì‹œ í°ë”°ì˜´í‘œë¡œ ë¬¶ì–´ì•¼ í•¨
- ê°’ìœ¼ë¡œ undefined, í•¨ìˆ˜, ì‹¬ë³¼ ì‚¬ìš© ë¶ˆê°€
- í›„í–‰ ì‰¼í‘œ í—ˆìš©ë˜ì§€ ì•ŠìŒ

```jsx
const jsObj = {
  name: "Charlie",
  greet: function () {
    console.log("Hello!");
  },
  data: undefined,
  list: [1, 2, 3],
};

const jsonString = `{
  "name": "Charlie",
  "list": [1, 2, 3]
}`;

console.log(JSON.stringify(jsObj));
// ì¶œë ¥: {"name":"Charlie","list":[1,2,3]}
```

[Best JSON Formatter and JSON Validator: Online JSON Formatter](https://jsonformatter.org/)

# AJAX

[JSONPlaceholder - Free Fake REST API](https://jsonplaceholder.typicode.com/)

[mockAPI](https://mockapi.io/)

## ì •ì˜

- Asynchronous JavaScript and XMLì˜ ì•½ì
- ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ì„œë²„ì™€ ë°ì´í„° êµí™˜
- ì „ì²´ í˜ì´ì§€ë¥¼ ìƒˆë¡œ ê³ ì¹¨í•˜ì§€ ì•Šê³  ë°ì´í„° ê°±ì‹  ê°€ëŠ¥

## ì£¼ìš” ë©”ì„œë“œ

- ìš”ì¦˜ì€ Fetch APIë‚˜ Axiosê°€ ì£¼ë¡œ ì‚¬ìš©ë¨ (ê³¼ê±° XMLHttpRequestê³¼ jQueryê°€ ì£¼ë¡œ ì‚¬ìš©)

### Fetch API

- ìµœì‹  ë¹„ë™ê¸° ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ë°©ì‹
- í”„ë¡œë¯¸ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„

```jsx
fetch(*url*)
    .then(response => response.json())
    .then(data => console.log(data))
    .catch(error => console.error("Error:", error))
```

### Axios

[Axios](https://axios-http.com/kr/)

[Axios Cheat Sheet - Kapeli](https://kapeli.com/cheat_sheets/Axios.docset/Contents/Resources/Documents/index)

- ë” ê°„ê²°í•œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ êµ¬í˜„ ê°€ëŠ¥

```
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<!-- ë˜ëŠ” -->
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
```

```
axios.get(url)
    .then(response => console.log(response.data))
    .catch(error => console.error("Error:", error))
```

# JavaScript ë„¤íŠ¸ì›Œí¬ ìš”ì²­ 2 (Fetch, Axios)

# Fetch API

- ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ë§Œë“œëŠ” í˜„ëŒ€ì ì´ê³  ê°•ë ¥í•œ ì¸í„°í˜ì´ìŠ¤
- `XMLHttpRequest`ë¥¼ ëŒ€ì²´í•˜ë©° Promise ê¸°ë°˜ìœ¼ë¡œ ì‘ë™
- ê°„ê²°í•˜ê³  ì§ê´€ì ì¸ ë¬¸ë²• ì œê³µ
- JSON ë°ì´í„° ì²˜ë¦¬ ìš©ì´
- ìš”ì²­ ë° ì‘ë‹µ ê°ì²´ì— ëŒ€í•œ ì„¸ë°€í•œ ì œì–´ ê°€ëŠ¥

## Fetch API ê¸°ë³¸ ì‚¬ìš©ë²•

### **CRUDì™€ HTTP Method**

- Create: POST ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒˆ ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±
- Read: GET ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì¡°íšŒ
- Update: PUT ë˜ëŠ” PATCH ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ì¡´ ë°ì´í„°ë¥¼ ìˆ˜ì •
- Delete: DELETE ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì‚­ì œ

### GET ìš”ì²­

```jsx
fetch("https://jsonplaceholder.typicode.com/users")
  .then((response) => {
    if (!response.ok) {
      throw new Error("Network response was not ok");
    }
    return response.json();
  })
  .then((data) => console.log("Users:", data))
  .catch((error) => console.error("Fetch error:", error));
```

### POST ìš”ì²­

```jsx
const newUser = { name: "John Doe", email: "john@example.com" };

fetch("https://jsonplaceholder.typicode.com/users", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
  },
  body: JSON.stringify(newUser),
})
  .then((response) => response.json())
  .then((data) => console.log("Created user:", data))
  .catch((error) => console.error("Error:", error));
```

### PUT ìš”ì²­

```jsx
const updatedUser = { name: "Jane Doe" };

fetch("https://jsonplaceholder.typicode.com/users/1", {
  method: "PUT",
  headers: {
    "Content-Type": "application/json",
  },
  body: JSON.stringify(updatedUser),
})
  .then((response) => response.json())
  .then((data) => console.log("Updated user:", data))
  .catch((error) => console.error("Error:", error));
```

### DELETE ìš”ì²­

```jsx
fetch("https://jsonplaceholder.typicode.com/users/1", {
  method: "DELETE",
})
  .then((response) => {
    if (response.ok) {
      console.log("User deleted successfully");
    }
  })
  .catch((error) => console.error("Error:", error));
```

### Fetch API ì£¼ìš” ì˜µì…˜

- `method`: HTTP ë©”ì„œë“œ ì§€ì • (GET, POST, PUT, DELETE ë“±)
- `headers`: ìš”ì²­ í—¤ë” ì„¤ì •
- `body`: ìš”ì²­ ë³¸ë¬¸ (JSON.stringify ì‚¬ìš©)
- `mode`: ìš”ì²­ ëª¨ë“œ ì„¤ì • (cors, no-cors, same-origin ë“±)
- `credentials`: ì¸ì¦ ì •ë³´ í¬í•¨ ì—¬ë¶€ ì„¤ì • (include, omit ë“±)
- `redirect`: ë¦¬ë‹¤ì´ë ‰ì…˜ ì²˜ë¦¬ ë°©ì‹ ì„¤ì • (follow, manual, error ë“±)
- `cache`: ìºì‹± ì •ì±… ì„¤ì • (default, no-cache ë“±)

### Fetch API ì‘ë‹µ ì²˜ë¦¬

- ì‘ë‹µ ê°ì²´ì˜ `ok` ì†ì„±ì„ í™•ì¸í•˜ì—¬ HTTP ìƒíƒœ ì½”ë“œ ì²˜ë¦¬
- HTTP ì˜¤ë¥˜ ìƒíƒœëŠ” ìˆ˜ë™ìœ¼ë¡œ ì²˜ë¦¬ í•„ìš”
- JSON ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ `response.json()` í˜¸ì¶œ

```jsx
fetch("https://jsonplaceholder.typicode.com/users")
  .then((response) => {
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    return response.json();
  })
  .then((data) => console.log(data))
  .catch((error) => console.error("There was a problem:", error));
```

# Axios

- Promise ê¸°ë°˜ì˜ HTTP í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
- ë¸Œë¼ìš°ì €ì™€ Node.js í™˜ê²½ ëª¨ë‘ ì§€ì›
- ìë™ìœ¼ë¡œ ìš”ì²­ ë° ì‘ë‹µ ë°ì´í„°ë¥¼ JSONìœ¼ë¡œ ë³€í™˜
- ì—ëŸ¬ ì²˜ë¦¬ë¥¼ ê°„ë‹¨íˆ í•  ìˆ˜ ìˆìŒ
- ê¸°ë³¸ ì„¤ì • ë° ì¸í„°ì…‰í„° ê¸°ëŠ¥ ì œê³µ

## Axios ê¸°ë³¸ ì‚¬ìš©ë²•

### GET ìš”ì²­

```jsx
axios
  .get("https://jsonplaceholder.typicode.com/users")
  .then((response) => console.log("Users:", response.data))
  .catch((error) => console.error("Error:", error));
```

### POST ìš”ì²­

```jsx
const newUser = { name: "John Doe", email: "john@example.com" };

axios
  .post("https://jsonplaceholder.typicode.com/users", newUser)
  .then((response) => console.log("Created user:", response.data))
  .catch((error) => console.error("Error:", error));
```

### PUT ìš”ì²­

```jsx
const updatedUser = { name: "Jane Doe" };

axios
  .put("https://jsonplaceholder.typicode.com/users/1", updatedUser)
  .then((response) => console.log("Updated user:", response.data))
  .catch((error) => console.error("Error:", error));
```

### DELETE ìš”ì²­

```jsx
axios
  .delete("https://jsonplaceholder.typicode.com/users/1")
  .then((response) => console.log("User deleted successfully"))
  .catch((error) => console.error("Error:", error));
```

### Axios ì£¼ìš” ê¸°ëŠ¥

- `axios.create`: ê¸°ë³¸ ì„¤ì •ì´ í¬í•¨ëœ Axios ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
- `timeout`: ìš”ì²­ ì œí•œ ì‹œê°„ ì„¤ì •
- `headers`: ê¸°ë³¸ ìš”ì²­ í—¤ë” ì„¤ì •
- `params`: URL ì¿¼ë¦¬ ë§¤ê°œë³€ìˆ˜ ì„¤ì •
- `interceptors`: ìš”ì²­ ë˜ëŠ” ì‘ë‹µì— ëŒ€í•œ ì¸í„°ì…‰í„° ì„¤ì •

```jsx
const api = axios.create({
  baseURL: "https://jsonplaceholder.typicode.com",
  timeout: 5000,
  headers: { "X-Custom-Header": "foobar" },
});

api
  .get("/users")
  .then((response) => console.log(response.data))
  .catch((error) => console.error("Error:", error));
```

# Fetch API vs Axios

- **ë¬¸ë²• ê°„ê²°ì„±**
  - Fetch: ë¹„êµì  ë³µì¡í•œ êµ¬ë¬¸ í•„ìš”
  - Axios: ì§ê´€ì ì´ê³  ê°„ê²°í•œ API ì œê³µ
- **ìë™ ë³€í™˜**
  - Fetch: ìˆ˜ë™ìœ¼ë¡œ `response.json()` í˜¸ì¶œ
  - Axios: JSON ë°ì´í„° ìë™ ë³€í™˜
- **ì—ëŸ¬ ì²˜ë¦¬**
  - Fetch: HTTP ì˜¤ë¥˜ ìƒíƒœë¥¼ ìˆ˜ë™ìœ¼ë¡œ ì²˜ë¦¬
  - Axios: HTTP ì˜¤ë¥˜ ìƒíƒœë¥¼ ìë™ìœ¼ë¡œ ê±°ë¶€ëœ Promiseë¡œ ì²˜ë¦¬
- **ë¸Œë¼ìš°ì € ì§€ì›**
  - Fetch: ì¼ë¶€ êµ¬í˜• ë¸Œë¼ìš°ì €ì—ì„œ ì§€ì›ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ
  - Axios: ëŒ€ë¶€ë¶„ì˜ ë¸Œë¼ìš°ì €ì—ì„œ ì‘ë™

```
// Fetch
fetch('https://jsonplaceholder.typicode.com/users')
  .then(response => {
    if (!response.ok) {
      throw new Error('Network response was not ok')
    }
    return response.json();
  })
  .then(data => console.log(data))
  .catch(error => console.error('Error:', error));

// Axios
axios.get('https://jsonplaceholder.typicode.com/users')
  .then(response => console.log(response.data))
  .catch(error => console.error('Error:', error));
```

# JavaScript ë„¤íŠ¸ì›Œí¬ ìš”ì²­ 3 (OPEN API)

# Open API

- **Open API**ëŠ” ëˆ„êµ¬ë‚˜ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê³µê°œëœ ì¸í„°í˜ì´ìŠ¤ë¡œ, ë°ì´í„°ë¥¼ í™œìš©í•˜ê±°ë‚˜ ê¸°ëŠ¥ì„ í†µí•©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µ
  - ë‹¤ì–‘í•œ í”Œë«í¼ê³¼ì˜ í†µí•©ì„ ê°€ëŠ¥í•˜ê²Œ í•¨
  - í•™ìŠµê³¼ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ í›Œë¥­í•œ ë„êµ¬ë¡œ ì‚¬ìš©

[ê³µê³µë°ì´í„° í¬í„¸](https://www.data.go.kr/)

[ì—´ë¦°ë°ì´í„°ê´‘ì¥ ë©”ì¸](https://data.seoul.go.kr/)

[GitHub - dl0312/open-apis-korea: ğŸ‡°ğŸ‡· í•œêµ­ì–´ ì‚¬ìš©ìë¥¼ ìœ„í•œ ì„œë¹„ìŠ¤ì— ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì˜¤í”ˆ API ëª¨ìŒ](https://github.com/dl0312/open-apis-korea)

## Open APIì˜ ì¢…ë¥˜

### 1. í‚¤ê°€ ì—†ëŠ” Open API

- ì¸ì¦ ì—†ì´ ëˆ„êµ¬ë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” API
- ì‚¬ìš©ëŸ‰ ì œí•œì´ ìƒëŒ€ì ìœ¼ë¡œ ê´€ëŒ€í•¨
- ê°œë°œ í•™ìŠµì´ë‚˜ ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ì— ì í•©
- ì˜ˆì‹œ: PokeAPI, JSONPlaceholder
  - PokeAPI: í¬ì¼“ëª¬ ë°ì´í„° ì œê³µ
  - JSONPlaceholder: ë”ë¯¸ ë°ì´í„°ë¥¼ ì œê³µí•˜ì—¬ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

### 2. í‚¤ê°€ í•„ìš”í•œ Open API

- API í‚¤ë¥¼ ë°œê¸‰ë°›ì•„ì•¼ ì‚¬ìš© ê°€ëŠ¥
- ë³´ì•ˆìƒ í‚¤ë¥¼ í†µí•´ ì‚¬ìš©ì ì‹ë³„
- ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ëŸ‰ ì œí•œì´ ì¡´ì¬í•˜ë©°, ì´ˆê³¼ ì‹œ ì¶”ê°€ ìš”ê¸ˆ ë°œìƒ ê°€ëŠ¥
- ìœ ë£Œ ë° ë¬´ë£Œ í”Œëœì„ ì œê³µ
- ì˜ˆì‹œ: Google Maps API, OpenWeather API
  - Google Maps API: ì§€ë„, ê²½ë¡œ, ì¥ì†Œ ê²€ìƒ‰ ê¸°ëŠ¥ ì œê³µ
  - OpenWeather API: ë‚ ì”¨ ë°ì´í„° ì œê³µ

# Axiosì™€ Open APIë¥¼ í™œìš©í•œ ë‹¨ê³„ë³„ ì˜ˆì œ

[PokÃ©API](https://pokeapi.co/)

## DOM ìš”ì†Œ ì„ íƒ

```jsx
const pokemonList = document.getElementById("pokemonList");
const saveButton = document.getElementById("savePokemon");
```

- `pokemonList`: í¬ì¼“ëª¬ ëª©ë¡ì„ í‘œì‹œí•  DOM ìš”ì†Œë¥¼ ì„ íƒ
- `saveButton`: ë°ì´í„°ë¥¼ ì €ì¥í•  ë²„íŠ¼ ìš”ì†Œë¥¼ ì„ íƒ

## API ìš”ì²­ ë° ë°ì´í„° ë Œë”ë§

```jsx
axios
  .get("https://pokeapi.co/api/v2/pokemon?limit=10")
  .then((response) => {
    const pokemons = response.data.results;
    pokemonList.innerHTML = pokemons
      .map((pokemon) => `<li>${pokemon.name}</li>`)
      .join("");
  })
  .catch((error) => console.error("Error:", error));
```

- `axios.get`: PokeAPIì—ì„œ í¬ì¼“ëª¬ ë°ì´í„°ë¥¼ ìš”ì²­
- `response.data.results`: API ì‘ë‹µì—ì„œ í•„ìš”í•œ ë°ì´í„°ë§Œ ì¶”ì¶œ
- `pokemonList.innerHTML`: ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ `<li>`ë¡œ ë³€í™˜í•˜ì—¬ DOMì— ì¶”ê°€
- `.catch`: ìš”ì²­ ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ë¥¼ ì²˜ë¦¬

## localStorageì— ë°ì´í„° ì €ì¥

```jsx
saveButton.addEventListener("click", () => {
  axios
    .get("https://pokeapi.co/api/v2/pokemon?limit=10")
    .then((response) => {
      localStorage.setItem("pokemons", JSON.stringify(response.data.results));
      alert("Pokemon data saved to localStorage");
    })
    .catch((error) => console.error("Error:", error));
});
```

- `saveButton.addEventListener`: ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì¶”ê°€
- `localStorage.setItem`: ë°ì´í„°ë¥¼ JSON ë¬¸ìì—´ë¡œ ë³€í™˜í•´ ì €ì¥
- `alert`: ë°ì´í„° ì €ì¥ ì„±ê³µì„ ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼

## ì‹¤í–‰ ê²°ê³¼

- ì›¹ í˜ì´ì§€ì— í¬ì¼“ëª¬ ëª©ë¡ì´ í‘œì‹œ
- ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ í˜„ì¬ í‘œì‹œëœ ë°ì´í„°ê°€ localStorageì— ì €ì¥ë˜ë©°, ì €ì¥ ì„±ê³µ ì‹œ ì•Œë¦¼ ë©”ì‹œì§€ê°€ í‘œì‹œ

## ì£¼ìš” ì½”ë“œ ì„¤ëª…

- **API ìš”ì²­**: `axios.get` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ PokeAPIì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´
- **DOM ì¡°ì‘**: ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ `map` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ `<li>` íƒœê·¸ë¡œ ë³€í™˜ í›„ DOMì— ì¶”ê°€
- **localStorage ì €ì¥**: ë°ì´í„°ë¥¼ JSON ë¬¸ìì—´ë¡œ ë³€í™˜í•´ ë¸Œë¼ìš°ì €ì˜ localStorageì— ì €ì¥
- **ì—ëŸ¬ ì²˜ë¦¬**: `.catch`ë¥¼ ì‚¬ìš©í•´ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ë‚˜ ê¸°íƒ€ ìš”ì²­ ì‹¤íŒ¨ë¥¼ ì²˜ë¦¬

# JavaScript ë„¤íŠ¸ì›Œí¬ ìš”ì²­ 4 (Edge Function)

# Open APIì˜ Key ë³´í˜¸

- **Open API Key**ëŠ” ì„œë¹„ìŠ¤ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ ì¤‘ìš”í•œ ìê²© ì¦ëª…
  - í‚¤ê°€ ë…¸ì¶œë˜ë©´ ì‚¬ìš©ëŸ‰ ì´ˆê³¼, ì¶”ê°€ ìš”ê¸ˆ ë˜ëŠ” ì•…ìš©ì˜ ìœ„í—˜ì´ ìˆìŒ
  - ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ í‚¤ë¥¼ ë…¸ì¶œí•˜ì§€ ì•Šë„ë¡ ë°±ì—”ë“œ ë˜ëŠ” Edge Functionì„ í†µí•´ ê´€ë¦¬

## **í‚¤ ë³´í˜¸ ë°©ë²•**

- **í™˜ê²½ ë³€ìˆ˜**: ì„œë²„ë‚˜ Edge Functionì—ì„œ í™˜ê²½ ë³€ìˆ˜ë¡œ í‚¤ë¥¼ ê´€ë¦¬
- **Rate Limiting**: í‚¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ìš”ì²­ì— ëŒ€í•´ ì†ë„ ì œí•œ ì ìš©
- **IP ì œí•œ**: íŠ¹ì • IP ì£¼ì†Œì—ì„œë§Œ API ìš”ì²­ì„ í—ˆìš©
- **Edge Function ì‚¬ìš©**: í‚¤ë¥¼ í´ë¼ì´ì–¸íŠ¸ê°€ ì•„ë‹Œ ì„œë²„ì—ì„œ ê´€ë¦¬í•˜ê³  ìš”ì²­ì„ í”„ë¡ì‹œí•¨

# Edge Function

## Edge Function ì†Œê°œ

- **Edge Function**ì€ ìš”ì²­ì„ ì„œë²„ë¡œ ì „ë‹¬í•˜ê¸° ì „ì— ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì„œë²„ë¦¬ìŠ¤ ì»´í“¨íŒ… í™˜ê²½
  - API Keyë¥¼ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•˜ê³ , í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ê²€ì¦í•˜ì—¬ Open APIë¡œ ì „ë‹¬
  - í´ë¼ì´ì–¸íŠ¸-ì„œë²„ ê°„ ë°ì´í„° ë³€í™˜ ë° ë³´ì•ˆ ê³„ì¸µ ì œê³µ

## **Edge Function ì œê³µ ë²¤ë”ì‚¬**

- **Supabase**: PostgreSQL ê¸°ë°˜ì˜ ë°±ì—”ë“œ ì„œë¹„ìŠ¤ë¡œ, Edge Function ë° ë°ì´í„°ë² ì´ìŠ¤, ì¸ì¦ ë“±ì„ ì œê³µ â†’ ê°€ì¥ í”„ë¦¬í‹°ì–´ê°€ ì˜ ë˜ì–´ ìˆìŒ
  [Supabase | The Open Source Firebase Alternative](https://supabase.com/)
- **Vercel**: ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ìµœì í™”ëœ Edge Functionê³¼ ë¹ ë¥¸ ë°°í¬ í™˜ê²½ ì œê³µ
- **Cloudflare Workers**: ê¸€ë¡œë²Œ ì—£ì§€ ë„¤íŠ¸ì›Œí¬ë¥¼ í™œìš©í•œ ì„œë²„ë¦¬ìŠ¤ ì»´í“¨íŒ…
- **AWS Lambda@Edge**: Amazon CloudFrontì™€ í†µí•©ëœ ì„œë²„ë¦¬ìŠ¤ í™˜ê²½

## **Edge Functionì˜ ì´ì **

- ë³´ì•ˆ: API Keyê°€ í´ë¼ì´ì–¸íŠ¸ì— ë…¸ì¶œë˜ì§€ ì•ŠìŒ
- ì„±ëŠ¥: ì „ ì„¸ê³„ ì—£ì§€ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ë¹ ë¥¸ ì‘ë‹µ
- í™•ì¥ì„±: ì„œë²„ë¦¬ìŠ¤ ì•„í‚¤í…ì²˜ë¡œ ìë™ í™•ì¥

# Google Gemini

[](https://aistudio.google.com/prompts/new_chat)

- **Google Gemini**ëŠ” Googleì˜ ìµœì‹  AI ëª¨ë¸ë¡œ, ìì—°ì–´ ì´í•´ì™€ ìƒì„±ì— íŠ¹í™”ëœ ê¸°ëŠ¥ ì œê³µ
  - **Google Gemini 1.5 Flash**: ëŒ€í™”í˜• AI ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì í•©í•œ ëª¨ë¸ë¡œ ì‹¤ì‹œê°„ ì‘ë‹µê³¼ ë†’ì€ ì •í™•ë„ë¥¼ ìë‘
  - ë‹¤ì–‘í•œ ì–¸ì–´ë¥¼ ì§€ì›í•˜ë©°, ì±—ë´‡, ê³ ê° ì§€ì›, ì½˜í…ì¸  ìƒì„± ë“±ì— í™œìš© ê°€ëŠ¥
- **ì£¼ìš” íŠ¹ì§•**
  - ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™”ì™€ ë§¥ë½ ìœ ì§€
  - ëŒ€ê·œëª¨ ë°ì´í„°ì…‹ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ë†’ì€ ì´í•´ë„
  - APIë¥¼ í†µí•´ ì†ì‰½ê²Œ í†µí•© ê°€ëŠ¥

# Google Gemini 1.5 Flashì™€ Edge Functionìœ¼ë¡œ ì±„íŒ…ì•± êµ¬í˜„

## Edge Function ì‘ì„±

### **Chat API í”„ë¡ì‹œ**

```jsx
export async function handler(req) {
  const apiKey = process.env.GEMINI_API_KEY;
  const { message } = await req.json();

  const response = await axios.post(
    "https://api.google.com/gemini/v1/chat",
    {
      input: message,
    },
    {
      headers: {
        Authorization: `Bearer ${apiKey}`,
        "Content-Type": "application/json",
      },
    }
  );

  return new Response(JSON.stringify(response.data), {
    status: response.status,
    headers: { "Content-Type": "application/json" },
  });
}
```

## í´ë¼ì´ì–¸íŠ¸ JavaScript

### **ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ë° ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì €ì¥**

```jsx
const chatInput = document.getElementById("chatInput");
const chatButton = document.getElementById("chatButton");
const chatDisplay = document.getElementById("chatDisplay");

chatButton.addEventListener("click", async () => {
  const message = chatInput.value;

  try {
    const response = await axios.post(
      "/edge-functions/secure-open-api",
      { message },
      {
        headers: { "Content-Type": "application/json" },
      }
    );

    const data = response.data;

    // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ë©”ì‹œì§€ ì €ì¥
    const messages = JSON.parse(localStorage.getItem("chatMessages")) || [];
    messages.push({ user: message, reply: data.reply });
    localStorage.setItem("chatMessages", JSON.stringify(messages));

    // í™”ë©´ì— ë©”ì‹œì§€ í‘œì‹œ
    chatDisplay.innerHTML += `<div><strong>You:</strong> ${message}</div>`;
    chatDisplay.innerHTML += `<div><strong>AI:</strong> ${data.reply}</div>`;
  } catch (error) {
    console.error("Error:", error);
  }
});

// ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ë©”ì‹œì§€ ë¡œë“œ
window.addEventListener("load", () => {
  const messages = JSON.parse(localStorage.getItem("chatMessages")) || [];
  messages.forEach(({ user, reply }) => {
    chatDisplay.innerHTML += `<div><strong>You:</strong> ${user}</div>`;
    chatDisplay.innerHTML += `<div><strong>AI:</strong> ${reply}</div>`;
  });
});
```

## ê²°ê³¼

- ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë©”ì‹œì§€ë¥¼ Google Gemini 1.5 Flash APIë¡œ ì „ì†¡í•˜ê³ , Edge Functionì„ í†µí•´ ì‘ë‹µì„ ë°›ì•„ì™€ í™”ë©´ì— ì¶œë ¥
- ì±„íŒ… ê¸°ë¡ì€ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥ë˜ì–´ ìƒˆë¡œê³ ì¹¨ í›„ì—ë„ ìœ ì§€

## ì£¼ìš” í¬ì¸íŠ¸

- Open API í‚¤ëŠ” Edge Functionì—ì„œë§Œ ê´€ë¦¬í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ ë…¸ì¶œ ë°©ì§€
- ë¸Œë¼ìš°ì €ì˜ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ë¥¼ ë°ì´í„° ì €ì¥ì†Œë¡œ í™œìš©í•˜ì—¬ ê°„ë‹¨í•œ ìƒíƒœ ê´€ë¦¬ êµ¬í˜„
- JavaScriptë¡œ í´ë¼ì´ì–¸íŠ¸-ì„œë²„ ê°„ í†µì‹  ë° ë¡œì»¬ ë°ì´í„° ì €ì¥ êµ¬í˜„
